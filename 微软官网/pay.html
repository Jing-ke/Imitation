<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="shortcut icon" href="./images/网站icon/bitbug_favicon(3).ico" />
    <link rel="stylesheet" href="./css/index/public.css">
    <link rel="stylesheet" href="./css/shopping/pay.css">
    <link rel="stylesheet" href="./iconfont/iconfont.css">
    <!-- <link rel="stylesheet" href="./iconfont/iconfont.css"> -->
</head>
<body>
    <!-- 遮罩 -->
    <div class="mask">
        
    </div>
    <!-- 内容 -->
    <div class="wrap">
        <h2>填写并核对订单信息</h2>
        <div class="content">
            <h4 class="info">收货人信息</h4>
            <div class="shou">
                <div class="name">井自克</div>
                <div class="nameDetail">井自克 宁夏 石嘴山市 大武口区 星海镇 宁夏理工学院-山水大道学院路1号 157****5044 </div>
                <div class="change">编辑</div>
                <div class="moreAdress">更多地址>></div>
            </div>
            <h4 class="info">支付方式</h4>
            <div class="payfun clearfix">
                <div class="paychoice">货到付款</div>
                <div class="paychoice">在线支付</div>
                <div class="morechoice">更多>></div>
            </div>
            <h4 class="info">送货清单</h4>
            <!-- 付款商品清单 -->
            <div class="goods-content clearfix">
                <!-- 配送 -->
                <div class="transport clearfix">
                    <h5 class="info">配送方式</h5>
                    <div class="choice">官方配送</div>
                    <div class="time"><span>配送时间：</span>工作日、双休日与节假日均可发货</div>
                    <div class="back">
                        <input type="radio" style="margin-right:5px">退货无忧<span>￥0.50</span>
                        <div class="descri">自签收后7天内退货，15天内换货，可享受一次上门取件服务 <a href="">查看详情</a></div>
                    </div>
                </div>
                <!-- 付款商品详情 -->
                <div class="goods">
                    <h4 class="info">商家：电脑商城</h4>
                    <!-- 商品显示 -->
                    <ul class="goods-wrap">
                        <li class="clearfix">
                            <img src="./images/shoppingCart/MICJS0625-300Wx180H-1.png" alt="">
                            <!-- 商品描述 -->
                            <div class="descri">
                                <div class="title"> <a href="">Dell 戴尔 XPS 13-9360-R3905S 笔记本电脑</a></div>
                                <br>
                                <div class="color">颜色：<span>黑色</span></div>
                            </div>
                            <!-- 价格 -->
                            <div class="price">
                                    <p>￥1888.00</p>
                                <br>
                                <span>4.25kg</span>
                            </div>
                            <!--数量 -->
                            <div class="count">x1</div>
                        </li>
                        <li class="clearfix">
                            <img src="./images/shoppingCart/MICJS0625-300Wx180H-1.png" alt="">
                            <!-- 商品描述 -->
                            <div class="descri">
                                <div class="title"> <a href="">Dell 戴尔 XPS 13-9360-R3905S 笔记本电脑</a></div>
                                <br>
                                <div class="color">颜色：<span>黑色</span></div>
                            </div>
                            <!-- 价格 -->
                            <div class="price">
                                <p>￥2000.00</p>
                                <br>
                                <span>4.25kg</span>
                            </div>
                            <!--数量 -->
                            <div class="count">x1</div>
                        </li>
                        <li class="clearfix">
                            <img src="./images/shoppingCart/MICJS0625-300Wx180H-1.png" alt="">
                            <!-- 商品描述 -->
                            <div class="descri">
                                <div class="title"> <a href="">Dell 戴尔 XPS 13-9360-R3905S 笔记本电脑</a></div>
                                <br>
                                <div class="color">颜色：<span>黑色</span></div>
                            </div>
                            <!-- 价格 -->
                            <div class="price">
                                    <p>￥1888.00</p>
                                <br>
                                <span>4.25kg</span>
                            </div>
                            <!--数量 -->
                            <div class="count">x1</div>
                        </li>
                        
                    </ul>
                </div>
            </div>
            <!--  -->
        </div>
        <!-- 总计 -->
        <div class="total">
            <!-- 总价 -->
            <div class="totalPrice clearfix">
                <span class="price">￥1888.00</span>
                <span class="title"><p>1</p> 件商品，总商品金额：</span>
            </div>
            <!-- 运费 -->
            <div class="freight clearfix">
                <span class="price">￥10.00</span>
                <span class="title">运费：</span>
            </div>
        </div>
        <!-- 核对 -->
        <div class="check">
            <div class="price clearfix">
                <div class="price">￥1888.00</div>
                <div class="title">应付金额：</div>
            </div>
            <div class="adress">
                <div class="title">
                    寄送至：<span class="adress">井自克 宁夏 石嘴山市 大武口区 星海镇 宁夏理工学院-山水大道学院路1号 157****5044</span>
                    收件人：<span class="name">井自克 15709625044</span>
                </div>
            </div>
        </div>
        <!-- 提交 -->
        <div class="submit">提交订单</div>
    </div>
    <!-- 编辑地址 -->
    <div class="Adress">
        <div class="content">
            <i class="iconfont icon-shanchu  close"></i>
            <!-- 添加收件人信息 -->
            <div class="addInfo">
                <div class="small-wrap"><span>姓名</span><input type="text" id="na"></div>
                <div class="small-wrap"><span>地区</span><input type="text" id="adress" ></div>
                <div class="small-wrap"><span>手机号</span><input type="text" id="phone"></div>
                <span class="addAdress">添加到收货人信息</span>
            </div>
        </div>
    </div>
    <!-- 添加收货人信息 -->
    <script>
        var add = document.getElementsByClassName("addAdress")[0],
            nameDetail = document.getElementsByClassName("nameDetail")[0];
        add.onclick = function(){
            if(na.value==""||adress.value==""||phone.value==""){
                na.setAttribute("placeholder","姓名不能为空")
                adress.setAttribute("placeholder","地址不能为空")
                phone.setAttribute("placeholder","手机号不能为空")
            }else{
                nameDetail.innerHTML = na.value+" "+adress.value+" "+phone.value; 
                Adress.style.display = "none";
            }
        }
        adress.onfocus = function(){
            adress.setAttribute("placeholder","省份、市、区、镇请以空格分隔")
        }
        var change = document.getElementsByClassName("change")[0],
            Adress = document.getElementsByClassName("Adress")[0],
            close = Adress.querySelectorAll(".content .close")[0],
            wrap = document.getElementsByClassName("wrap")[0];
        change.onclick = function(){
            Adress.style.display = "block";
        }
        close.onclick = function(){
            Adress.style.display = "none";
        }

        // 计算总价
            var Oul = document.getElementsByClassName("goods-wrap")[0];
            var Oli = Oul.getElementsByTagName("li");
            var sM = 0;
            var cC = 0;
            var allCount = document.querySelectorAll(".check .price .price")[0];
            // console.log(allCount)
            for(var i = 0;i<Oli.length;i++){
                (function(i){
                    var onePrice = Oli[i].getElementsByClassName("price")[0];
                    var alc = Oli[i].getElementsByClassName("count")[0].innerHTML;
                    var str1 = alc.substring(1);
                    // console.log(str1)
                    cC += parseFloat(str1);
                    var mon = onePrice.getElementsByTagName("p")[0].innerHTML;
                    var str = mon.substring(1);
                    sM += parseFloat(str);
                    // sM = sM+1;
                    allCount.innerHTML ="￥"+sM +".00";
                })(i)
            }
            var totalP = document.querySelectorAll(".total .totalPrice .price")[0];
            var totalC = document.querySelectorAll(".total .title p")[0];
            console.log(totalC);
            totalP.innerHTML = allCount.innerHTML;
            totalC.innerHTML = cC;
    </script>
    <!-- 配送及商品高度匹配 -->
    <script>
        var goods = document.getElementsByClassName('goods')[0],
            transport = document.getElementsByClassName('transport')[0];
        // 页面加载过程中将transport的高度匹配为goods的高度
        window.onload = function(){
            var a = goods.clientHeight;
            transport.style.height = `${a-20}px`;
        }

    </script>
    <!-- 界面动画 -->
    <script>
        var mask = document.getElementsByClassName('mask')[0],
            wrap = document.getElementsByClassName('wrap')[0];
        // 网页加载后执行动画
        function display(){
            // 遮罩
            animation(mask,{
                data:{
                    opacity:1
                },option:{
                    // easing : 'Quint',
			        // speed : 1
                }
            },500);
            //内容
            animation(wrap,{
                data:{
                    top: 0
                },option:{
                    easing : 'Cubic',
			        speed : 1
                }
            },500);
        }
        setTimeout(display,100);
    </script>

    <script src="./js/animation.js"></script>
</body>
</html>